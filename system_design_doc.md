# وثيقة تصميم النظام (System Design Document) - Agro-Omni V11

> **تحديث عام 2026** - الإصدار النهائي "Agro-Omni Enterprise"

## 1. نظرة عامة (Overview)

نظام **Agro-Omni** هو منصة زراعية ذكية متكاملة تعتمد على إنترنت الأشياء (IoT) والذكاء الاصطناعي (AI) لإدارة المزارع بشكل ذاتي. يهدف النظام إلى تحقيق "الزراعة الدقيقة" (Precision Agriculture) من خلال مراقبة التربة، الجو، جودة المياه، والطاقة الشمسية، واتخاذ قرارات ري آلية دون تدخل بشري.

---

## 2. الهيكلية العامة (System Architecture)

### طبقة الحقل (Field Layer)

* **وحدة التحكم الرئيسية:** ESP32 (Microcontroller with WiFi/Bluetooth).
* **الحساسات (Sensors):**
  * حساس رطوبة التربة (Capacitive Soil Moisture) - عدد 10 (لكل منطقة).
  * حساس حرارة ورطوبة الجو (DHT22).
  * **[جديد]** حساس جودة المياه (pH Sensor & TDS Meter).
  * **[جديد]** حساسات مراقبة الطاقة الشمسية (Voltage/Current Sensors).
* **المشغلات (Actuators):**
  * مضخة مياه رئيسية (Main Water Pump).
  * صمامات كهربائية (Solenoid Valves) لتوجيه المياه للمناطق المحددة.

### طبقة الطاقة (Power Layer) [ميزة جديدة]

* نظام طاقة شمسية مستقل (Off-Grid Solar System) لضمان التشغيل في المناطق النائية.
* لوح شمسي (Solar Panel) + منظم شحن + بطارية.

### طبقة البرمجيات (Software Layer)

* **Agro-Omni OS:** نظام تشغيل مبني على RTOS لإدارة المهام.
* **Dashboard V11:** واجهة تحكم مركزية (Command Center) تعرض البيانات الحية، الخرائط التفاعلية، وتحليلات الذكاء الاصطناعي.
* **AI Engine:** خوارزمية محلية لتحليل البيانات واتخاذ القرار بناءً على نوع النبات والطقس.

---

## 3. تدفق البيانات (Data Flow)

1. **الجمع:** تقرأ الحساسات بيانات التربة والجو وجودة المياه كل 5 دقائق.
2. **المعالجة:** يقوم المعالج (ESP32) بمقارنة البيانات مع "قاعدة بيانات النباتات" (مثلاً: الطماطم تحتاج 60% رطوبة، الجزر يحتاج 50%).
3. **القرار:** إذا كانت الرطوبة منخفضة **و** البطارية مشحونة **و** لا يوجد مطر متوقع -> يتم فتح الصمام وتشغيل المضخة.
4. **العرض:** يتم إرسال جميع البيانات والقرارات لحظياً إلى "لوحة التحكم" عبر WiFi.

---

## 4. قائمة المواد المحدثة (Bill of Materials - 2026)

| المكون (Item) | الوصف (Description) | العدد | السعر التقديري |
| :--- | :--- | :--- | :--- |
| **ESP32 Dev Module** | العقل المدبر للنظام (Wi-Fi + Bluetooth) | 1 | 25 SAR |
| **Soil Moisture Sensor** | حساس رطوبة التربة (السعوي - مقاوم للصدأ) | 10 | 150 SAR |
| **DHT22** | حساس حرارة ورطوبة دقيق | 1 | 20 SAR |
| **Relay Module (4-Channel)** | للتحكم بالمضخة والصمامات | 1 | 25 SAR |
| **Water Pump (12V)** | مضخة مياه غاطسة أو خارجية | 1 | 45 SAR |
| **Solenoid Valves** | صمامات كهربائية للتحكم بمناطق الري | 4 | 100 SAR |
| **OLED Display** | شاشة صغيرة لعرض الحالة في الموقع | 1 | 20 SAR |
| **pH Sensor Kit** | [جديد] طقم قياس حموضة المياه | 1 | 120 SAR |
| **Solar Panel (50W)** | [جديد] لوح طاقة شمسية | 1 | 150 SAR |
| **Charge Controller** | [جديد] منظم شحن 10 أمبير | 1 | 40 SAR |
| **12V Battery** | بطارية لتخزين الطاقة | 1 | 80 SAR |
| **أسلاك وتوصيلات** | Jumper Wires, Breadboard, Pipes | - | 50 SAR |

**التكلفة الإجمالية التقديرية: ~825 ريال سعودي** (نظام احترافي متكامل).

---

## 5. الخلاصة

تمت ترقية التصميم من مجرد "نظام ري" إلى "نظام بيئي متكامل" (Agro-Omni Ecosystem) يراقب الطاقة والمياه والنبات بدقة متناهية، مما يجعله مشروع تخرج بمستوى الماجستير أو الشركات الناشئة.
